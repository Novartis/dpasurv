[{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1. Introduction","title":"The dpasurv package","text":"Dynamic path analysis method aimed modeling time-varying relationships randomized treatment, longitudinal covariate process, survival time--event outcome. vignette demonstrate main functionalities dpasurv package.","code":""},{"path":[]},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"dynamic-path-analysis","dir":"Articles","previous_headings":"2. Methods","what":"Dynamic path analysis","title":"The dpasurv package","text":"Figure 1. simple dynamic path diagram treatment \\(\\small X\\), single mediator \\(\\small M(t)\\), confounders \\(\\small C\\). Relationships variables represented directed edges nodes collectively nodes edges imply underlying model structure. specifically, child node represents entity modeled corresponding parent nodes represent underlying model covariates. Figure 1 two implied models, one corresponding hazard \\(\\small \\lambda(t)\\) time--event outcome, corresponding mediator response \\(\\small M(t)\\). defining feature dynamic path analysis defined Fosen et al. (2006) specific choice models dynamic DAG, namely -called dynamic path models. core Aalen’s additive regression model survival outcome terminal node models involve recursive least squares regressions. following equations see dynamic path models corresponding Figure 1: \\[\\begin{align} \\lambda(t) &= R(t) \\cdot \\left\\{\\beta_0(t) + \\beta_1(t) X + \\beta_2(t) M(t) + C\\gamma \\right\\},  \\tag{1} \\\\ M(t) &= \\alpha_0(t) + \\alpha_1(t) X + C\\gamma + \\varepsilon(t).  \\tag{2} \\end{align}\\] \\(\\small R(t)\\) -risk function indicating whether subject still observation (.e. alive still follow ) just time \\(\\small t\\), \\(\\small \\varepsilon(t)\\) time-dependent error term. outcome model (1) hazard assumed change linearly function treatment, mediator(s) confounders, mediator model (2) longitudinal mediator regressed treatment confounders. parameters principal interest characterizing relationships treatment, mediator(s) survival, namely \\(\\small \\beta_1(t), \\beta_2(t)\\), \\(\\small \\alpha_1(t)\\). goal dynamic path analysis (dpasurv package) estimate key parameters, package may fit general models (e.g. mediator nodes additional edges), vignette illustrate underlying methodology package functionalities simple dynamic DAG shown Figure 1.","code":""},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"direct-indirect-and-total-effects","dir":"Articles","previous_headings":"2. Methods","what":"Direct, indirect and total effects","title":"The dpasurv package","text":"One appealing features dynamic path analysis total effect may easily decomposed sum direct indirect effects.","code":""},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"estimation-and-inference","dir":"Articles","previous_headings":"2. Methods","what":"Estimation and inference","title":"The dpasurv package","text":"estimation dynamic path model done recursive least squares regression usual path analysis subsection define estimators direct, indirect total effects. analytic derivation underlying distributions tractable assess variability estimators using bootstrap confidence intervals.","code":""},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"implementation","dir":"Articles","previous_headings":"","what":"3. Implementation","title":"The dpasurv package","text":"dpasurv package implements complete dynamic path analysis workflow.","code":""},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"fitting-the-dynamic-path-model","dir":"Articles","previous_headings":"3. Implementation","what":"Fitting the dynamic path model","title":"The dpasurv package","text":"following code fits dynamic path model aimed evaluating potential mediation effect treatment x longitudinal mediator M.","code":"s <- dpa(survival::Surv(start, stop, event) ~ M + x, list(M ~ x), id = \"subject\", data = simdata, boot.n = 100)"},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"estimating-direct-indirect-and-total-effects","dir":"Articles","previous_headings":"3. Implementation","what":"Estimating direct, indirect and total effects","title":"The dpasurv package","text":"dynamic path model fitted, user can extract direct indirect effects effect() function outputs (direct indirect) objects class \"effect\" can summed together via sum method obtain total effect","code":"direct <- effect(x ~ outcome, s, alpha=0.05) indirect <- effect(x ~ M ~ outcome, s, alpha=0.05) total <- sum(direct, indirect)"},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"plotting-effects","dir":"Articles","previous_headings":"3. Implementation","what":"Plotting effects","title":"The dpasurv package","text":"plot method objects class \"effect\" can used visualize estimated effects along confidence bands.","code":"par(mfrow=c(1,3)) plot(direct); abline(h=0, lty=2, col=2) plot(indirect); abline(h=0, lty=2, col=2) plot(total); abline(h=0, lty=2, col=2)"},{"path":[]},{"path":"http://opensource.nibr.com/dpasurv/articles/dpa.html","id":"aalens-additive-hazards-model","dir":"Articles","previous_headings":"A. Appendix","what":"Aalen’s additive hazards model","title":"The dpasurv package","text":"Aalen’s additive hazards model originates following intuitive counting process formulation: \\[\\begin{equation} dN(t) = R(t) \\cdot \\left\\{\\beta_0(t) + \\beta_1(t) X + \\beta_2(t) M(t)\\right\\} + dW(t) \\end{equation}\\]","code":""},{"path":"http://opensource.nibr.com/dpasurv/articles/ggplot_demo.html","id":"load-data-and-run-analysis","dir":"Articles","previous_headings":"","what":"Load data and run analysis","title":"ggplot plotting functionality","text":"","code":"data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  direct <- effect(x ~ outcome, s) indirect <- effect(x ~ M ~ outcome, s) total <- sum(direct, indirect)  # Multiple treatment arms: s2 <- dpa(survival::Surv(start,stop,event)~M+dose, list(M~dose), id=\"subject\", data=simdata, boot.n=100)  direct2 <- effect(dose ~ outcome, s2) indirect2 <- effect(dose ~ M ~ outcome, s2) total2 <- sum(direct2, indirect2)"},{"path":[]},{"path":"http://opensource.nibr.com/dpasurv/articles/ggplot_demo.html","id":"single-arm","dir":"Articles","previous_headings":"Basic plotting functionality","what":"Single arm","title":"ggplot plotting functionality","text":"","code":"par(mfrow=c(1,3)) plot(direct) plot(indirect); abline(h=0, lty=2, col=2) plot(total); abline(h=0, lty=2, col=2)"},{"path":"http://opensource.nibr.com/dpasurv/articles/ggplot_demo.html","id":"multiple-arm","dir":"Articles","previous_headings":"Basic plotting functionality","what":"Multiple arm","title":"ggplot plotting functionality","text":"","code":"par(mfrow=c(2,3)) plot(direct2); abline(h=0, lty=2, col=2) plot(indirect2); abline(h=0, lty=2, col=2) plot(total2); abline(h=0, lty=2, col=2)"},{"path":"http://opensource.nibr.com/dpasurv/articles/ggplot_demo.html","id":"ggplot-plotting-functionality","dir":"Articles","previous_headings":"","what":"ggplot plotting functionality","title":"ggplot plotting functionality","text":"can input object type “effect”  Alternatively, can provide list “effect”-object, example  Different dose level plotted top  Also works multiple treatment arms  possible customize plotting parameters, example","code":"ggplot.effect(indirect) ggplot.effect(list(direct, indirect, total)) ggplot.effect(direct2) ggplot.effect(list(direct2, indirect2, total2)) ggplot.effect(list(direct, indirect, total),                titles = c(\"Direct\",\"Indirect\",\"Total\"),               x_label = \"Time (in years)\",                y_label = \"Custom y-label\")"},{"path":"http://opensource.nibr.com/dpasurv/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matthias Kormaksson. Author, maintainer. Markus Lange. Author. David Demanse. Author. Susanne Strohmaier. Author.","code":""},{"path":"http://opensource.nibr.com/dpasurv/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kormaksson M, Lange M, Demanse D, Strohmaier S (2024). dpasurv: Dynamic Path Analysis Survival Data via Aalen's Additive Hazards Model. R package version 1.0.0, http://opensource.nibr.com/dpasurv/.","code":"@Manual{,   title = {dpasurv: Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model},   author = {Matthias Kormaksson and Markus Lange and David Demanse and Susanne Strohmaier},   year = {2024},   note = {R package version 1.0.0},   url = {http://opensource.nibr.com/dpasurv/}, }"},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"dpasurv","dir":"","previous_headings":"","what":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"R-package Dynamic Path Analysis survival data.","code":""},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"dpasurv package designed perform dynamic path analysis via calls following principal functions: dpa() fits dynamic path models corresponding given dynamic path diagram; returns object class dpa effect() estimates cumulative direct indirect effects fitted dpa-object; returns object class effect effect-objects can summed together obtain total effect (.e. direct effect + indirect effect) well plotted bootstrap confidence intervals.","code":""},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"","code":"# The easiest way to install dpasurv is to run (assuming devtools package is already installed): devtools::install_github(\"Novartis/dpasurv\")  # If devtools package is not installed, then prior to above you may run: install.packages(\"devtools\")"},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"vignette use dpasurv package can found , basic usage summarized :","code":"library(dpasurv)  # Perform dynamic path analysis analysis <- dpa(survival::Surv(start, stop, event) ~ M + x, list(M ~ x), id = \"subject\", data = simdata, boot.n = 100)  # Extract direct, indirect and total effect direct <- effect(x ~ outcome, analysis, alpha=0.05) indirect <- effect(x ~ M ~ outcome, analysis, alpha=0.05) total <- sum(direct, indirect)  # Plot the results par(mfrow=c(1,3)) plot(direct); abline(h=0, lty=2, col=2) plot(indirect); abline(h=0, lty=2, col=2) plot(total); abline(h=0, lty=2, col=2)  # Plot the results with ggplot2 graphics: ggplot.effect(list(direct, indirect, total))"},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"dpasurv package published github parallel following manuscript: publish results obtained dpasurv package, please cite paper.","code":"@article{dpasurv,   title={Dynamic path analysis for exploring treatment effect mediation processes in clinical trials with time-to-event endpoints},   author={Kormaksson, M. and Lange, M. R. and Demanse, D. and Strohmaier, S. and Duan, J. and Xie, Q. and Carbini, M. and Bossen, C. and Guettner, A. and Maniero, A.},   journal={(submitted)},   volume={},   number={},   pages={},   year={2024}, }"},{"path":"http://opensource.nibr.com/dpasurv/index.html","id":"code-authors","dir":"","previous_headings":"","what":"Code authors","title":"Dynamic Path Analysis of Survival Data via Aalen's Additive Hazards Model","text":"Matthias Kormaksson, matthias-1.kormaksson_ext@novartis.com (maintainer) Markus Lange, markus.lange@novartis.com David Demanse, david.demanse@novartis.com Susanne Strohmaier, susanne.strohmaier@meduniwien.ac.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Areg.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal Aalen's Additive Hazards Model storing a linear effect estimate for each event time — Areg","title":"Internal Aalen's Additive Hazards Model storing a linear effect estimate for each event time — Areg","text":"call function ","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Areg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal Aalen's Additive Hazards Model storing a linear effect estimate for each event time — Areg","text":"","code":"Areg(out.formula, id, data, method, ...)"},{"path":"http://opensource.nibr.com/dpasurv/reference/Areg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal Aalen's Additive Hazards Model storing a linear effect estimate for each event time — Areg","text":".formula Survival formula Aalen's additive hazards model. id character string indicating column 'data' corresponds subject ID. data Data set counting process format. particular data contain \"start\", \"stop\" \"event\" column along mediators baseline covariates. ... parameters passed Aalen's additive hazards regression function \"timereg::aalen()\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Areg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal Aalen's Additive Hazards Model storing a linear effect estimate for each event time — Areg","text":"data.frame observation times estimated coefficients independent variables \"regformula\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Mreg.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal mediator regression function storing a linear regression estimate for each event time — Mreg","title":"Internal mediator regression function storing a linear regression estimate for each event time — Mreg","text":"call function ","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Mreg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal mediator regression function storing a linear regression estimate for each event time — Mreg","text":"","code":"Mreg(regformula, obstimes, startt, stopt, event, mediator, dataset, w = 1)"},{"path":"http://opensource.nibr.com/dpasurv/reference/Mreg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal mediator regression function storing a linear regression estimate for each event time — Mreg","text":"regformula independent variable input standard lm fuction R obstimes observed event times Aalen's additive model estimated via function Areg startt start time observation intervals stopt end time observation intervals (actual event times) event event indicator mediator mediator interest dataset dataset (counting process format) w (optional) weights (actually used default implementation dynamic path analysis, set 1)","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/Mreg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal mediator regression function storing a linear regression estimate for each event time — Mreg","text":"data.frame observation times estimated coefficients independent variables \"regformula\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/add.ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate bootstrap confidence bands for the direct or indirect effect of interest — add.ci","title":"Calculate bootstrap confidence bands for the direct or indirect effect of interest — add.ci","text":"Calculate bootstrap confidence bands direct indirect effect interest","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/add.ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate bootstrap confidence bands for the direct or indirect effect of interest — add.ci","text":"","code":"add.ci(object, alpha = 0.05)"},{"path":"http://opensource.nibr.com/dpasurv/reference/add.ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate bootstrap confidence bands for the direct or indirect effect of interest — add.ci","text":"object direct indirect effect interest (obtained call function effect). alpha confidence level, defaults alpha=0.05","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/add.ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate bootstrap confidence bands for the direct or indirect effect of interest — add.ci","text":"data.frame containing unique event times, estimated effect, lower upper confidence bands","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/check.dag.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal check of whether the formulas passed to the function dpa follow a directed acyclic graph (DAG) — check.dag","title":"Internal check of whether the formulas passed to the function dpa follow a directed acyclic graph (DAG) — check.dag","text":"call function ","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/check.dag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal check of whether the formulas passed to the function dpa follow a directed acyclic graph (DAG) — check.dag","text":"","code":"check.dag(meta, data)"},{"path":"http://opensource.nibr.com/dpasurv/reference/check.dag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal check of whether the formulas passed to the function dpa follow a directed acyclic graph (DAG) — check.dag","text":"meta meta data obtained internally inside dpasurv::dpa function data input data dpasurv::dpa function","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/check.dag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal check of whether the formulas passed to the function dpa follow a directed acyclic graph (DAG) — check.dag","text":"function return anything","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":null,"dir":"Reference","previous_headings":"","what":"Dynamic Path Analysis — dpa","title":"Dynamic Path Analysis — dpa","text":"Dynamic Path Analysis","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dynamic Path Analysis — dpa","text":"","code":"dpa(   out.formula,   mediator.formulas,   id,   data,   boot.n = 100,   method = \"aareg\",   progress_bar = FALSE,   ... )"},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dynamic Path Analysis — dpa","text":".formula Survival formula Aalen's additive hazards model. mediator.formulas Mediator regression formula (case single mediator), list regression formulas (case multiple mediators). formulas must ordered according Directed Acyclic Graph Structure (see Details). id character string indicating column 'data' corresponds subject ID. Bootstrapping performed id. data Data set counting process format. particular data contain \"start\", \"stop\" \"event\" column along mediators baseline covariates. boot.n Number bootstrap samples. method underlying implementation Aalen's additive regression model. Defaults \"aareg\", relies survival::aareg() implementation, method = \"timereg\" uses timereg::aalen() implementation. progress_bar Boolean. TRUE, show progress bar. Defaults FALSE. ... parameters passed Aalen's additive hazards model implementation. method = \"timereg\", ... passed timereg::aalen(), method = \"aareg\", ... passed survival::aareg(). ... contains parameters belong formalArgs corresponding implementation parameters ignored.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dynamic Path Analysis — dpa","text":"Object class `dpa` following fields: coefs list estimated coefficients regressions listed .formula mediator.formulas. boot.coefs list bootstrap estimates corresponding coefs. stores bootstrap estimates facilitate calculation direct, indirect total effects along bootstrap confidence intervals. meta list keeping track responses covariates .formula mediator.formulas. Also keeps track variable types level names case factors.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dynamic Path Analysis — dpa","text":"dpa performs Dynamic Path Analysis Directed Acyclic Graph (DAG). .formula can covariates mediators listed mediator.formulas. mediator.formulas must obey following DAG structure rule: response k-th formula appear covariate formulas k+1, ..., length(mediator.formulas).","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/dpa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dynamic Path Analysis — dpa","text":"","code":"library(dpasurv)  data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  direct <- effect(x ~ outcome, s) indirect <- effect(x ~ M ~ outcome, s) total <- sum(direct, indirect)  par(mfrow=c(1,3)) plot(direct); abline(h=0, lty=2, col=2) plot(indirect); abline(h=0, lty=2, col=2) plot(total); abline(h=0, lty=2, col=2)   # Multiple treatment arms: s2<-dpa(survival::Surv(start,stop,event)~M+dose,list(M~dose),id=\"subject\",data=simdata,boot.n=100)  direct2 <- effect(dose ~ outcome, s2) indirect2 <- effect(dose ~ M ~ outcome, s2) total2 <- sum(direct2, indirect2)  par(mfrow=c(2,3)) plot(direct2) plot(indirect2) plot(total2)"},{"path":"http://opensource.nibr.com/dpasurv/reference/effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Effect estimation in dynamic path analysis — effect","title":"Effect estimation in dynamic path analysis — effect","text":"effect estimation method class \"dpa\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Effect estimation in dynamic path analysis — effect","text":"","code":"effect(formula, object, alpha = 0.05)"},{"path":"http://opensource.nibr.com/dpasurv/reference/effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Effect estimation in dynamic path analysis — effect","text":"formula formula direct indirect effect estimated. form: covariate ~ outcome direct effect covariate outcome, form: covariate ~ mediator ~ outcome indirect effect covariate outcome mediated mediator. Note word \"outcome\" reserved survival outcome process, word \"covariate\" \"mediator\" match corresponding variable name data input. Alternatively form can : covariate ~ mediator direct effects covariate mediator, : covariate ~ mediator1 ~ mediator2 indirect effects covariate mediator2 mediated mediator1. object object class \"dpa\" (obtained calling function dpa) effect estimated. alpha confidence level bootstrap intervals","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Effect estimation in dynamic path analysis — effect","text":"object class \"effect\" following fields: coefs data.frame containing unique event times along calculated effect coefficients. effects corresponding continuous variable results single effect column. factors n.levels categories data.frame contains n.levels-1 effect columns representing effect coefficients particular factor level (compared reference level). lower data.frame dimension coefs containing lower confidence bands effects stored coefs upper data.frame dimension coefs containing upper confidence bands effects stored coefs boot.coefs data.frame three columns: one column bootstrap sample ID, second column unique event times (per bootstrap sample), third column estimated effect coefficients (per bootstrap sample). storing effects per bootstrap sample facilitates calculation bootstrap confidence intervals sums indirect direct effects. label effect label path specification: \"direct\" direct effect \"indirect\" indirect effect mediated path mediator(s) scale scale effect coefficients coefs, lower, upper: \"cumulative\" (effects outcome) \"identity\" (effects mediators) alpha confidence level bootstrap intervals","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Effect estimation in dynamic path analysis — effect","text":"","code":"library(dpasurv)  data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  # Direct effect of x on outcome: direct <- effect(x ~ outcome, s) # Indirect effect of x on outcome (mediated through M): indirect <- effect(x ~ M ~ outcome, s) plot(direct); abline(h=0, lty=2, col=2)  plot(indirect); abline(h=0, lty=2, col=2)"},{"path":"http://opensource.nibr.com/dpasurv/reference/find.variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Find variables of a given formula — find.variables","title":"Find variables of a given formula — find.variables","text":"call function ","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/find.variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find variables of a given formula — find.variables","text":"","code":"find.variables(formula)"},{"path":"http://opensource.nibr.com/dpasurv/reference/find.variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find variables of a given formula — find.variables","text":"formula","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/find.variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find variables of a given formula — find.variables","text":"character vector formula's variable names","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/get.meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function that gathers meta data on the input to function dpa — get.meta","title":"Internal function that gathers meta data on the input to function dpa — get.meta","text":"call function ","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/get.meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function that gathers meta data on the input to function dpa — get.meta","text":"","code":"get.meta(out.formula, mediator.formulas, data)"},{"path":"http://opensource.nibr.com/dpasurv/reference/get.meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function that gathers meta data on the input to function dpa — get.meta","text":".formula obtained directly corresponding input dpasurv::dpa mediator.formulas obtained directly corresponding input dpasurv::dpa data obtained directly corresponding input dpasurv::dpa","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/get.meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal function that gathers meta data on the input to function dpa — get.meta","text":"function returns meta data associated call dpasurv::dpa","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/ggplot.effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","text":"plotting method class \"effect\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/ggplot.effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","text":"","code":"ggplot.effect(   object,   relative = FALSE,   titles = NULL,   yintercept = 0,   linetype = \"dashed\",   x_label = \"Time\",   y_label = NULL )"},{"path":"http://opensource.nibr.com/dpasurv/reference/ggplot.effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","text":"object object class \"effect\", list objects class \"effect\" relative effect plotted relative survival scale (.e. `y=exp(-effect)`)?. Defaults FALSE. titles NULL, function automatically generate. Otherwise character vector length equal number elements object list yintercept y-intercept horizontal line. Defaults 0. linetype type horinzontal line plot. Defaults \"dashed\". x_label Label x-axis. Defaults \"Time\" y_label Label y-axis. Default \"Cumulative Effect\" object scale \"cumulative\", \"Effect\" otherwise.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/ggplot.effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","text":"ggplot object","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/ggplot.effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — ggplot.effect","text":"","code":"library(dpasurv)  data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  direct <- effect(x ~ outcome, s) indirect <- effect(x ~ M ~ outcome, s) total <- sum(direct, indirect)  ggplot.effect(direct)  ggplot.effect(list(direct, indirect, total))"},{"path":"http://opensource.nibr.com/dpasurv/reference/plot.effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot effects from dynamic path analysis along with bootstrap confidence bands — plot.effect","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — plot.effect","text":"plotting method class \"effect\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/plot.effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — plot.effect","text":"","code":"# S3 method for effect plot(x, relative = FALSE, ...)"},{"path":"http://opensource.nibr.com/dpasurv/reference/plot.effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — plot.effect","text":"x object class \"effect\" relative effect plotted relative survival scale (.e. `y=exp(-effect)`)?. Defaults FALSE. ... graphical parameters passed graphics::plot function.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/plot.effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot effects from dynamic path analysis along with bootstrap confidence bands — plot.effect","text":"","code":"library(dpasurv)  data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  direct <- effect(x ~ outcome, s) indirect <- effect(x ~ M ~ outcome, s) total <- sum(direct, indirect)  par(mfrow=c(1,3)) plot(direct); abline(h=0, lty=2, col=2) plot(indirect); abline(h=0, lty=2, col=2) plot(total); abline(h=0, lty=2, col=2)"},{"path":"http://opensource.nibr.com/dpasurv/reference/resolve.ties.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolves ties in event times by adding a small random noise to the duplicates — resolve.ties","title":"Resolves ties in event times by adding a small random noise to the duplicates — resolve.ties","text":"function mimics ties handled timereg::read.surv()","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/resolve.ties.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolves ties in event times by adding a small random noise to the duplicates — resolve.ties","text":"","code":"resolve.ties(stopt, event, obstimes)"},{"path":"http://opensource.nibr.com/dpasurv/reference/resolve.ties.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolves ties in event times by adding a small random noise to the duplicates — resolve.ties","text":"stopt stop times (start,stop] intervals across subjects time points event event status corresponding stopt obstimes sorted observed event times across subjects","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/resolve.ties.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolves ties in event times by adding a small random noise to the duplicates — resolve.ties","text":"stopt duplicates adjusted small random noise. ties, function just returns stopt.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/simdata.html","id":null,"dir":"Reference","previous_headings":"","what":"This is a simulated data set in the (start,stop] format. The subject column refers to subject ID and note that there are multiple rows per subject. The columns x and dose correspond to the treatment and dose respectively, while M refers to the longitudinal mediator values. The triplet (event, start, stop) corresponds to the time-to-event data in the required (start,stop] format. — simdata","title":"This is a simulated data set in the (start,stop] format. The subject column refers to subject ID and note that there are multiple rows per subject. The columns x and dose correspond to the treatment and dose respectively, while M refers to the longitudinal mediator values. The triplet (event, start, stop) corresponds to the time-to-event data in the required (start,stop] format. — simdata","text":"simulated data set (start,stop] format. subject column refers subject ID note multiple rows per subject. columns x dose correspond treatment dose respectively, M refers longitudinal mediator values. triplet (event, start, stop) corresponds time--event data required (start,stop] format.","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/sum.effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","title":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","text":"sum method class \"effect\"","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/sum.effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","text":"","code":"# S3 method for effect sum(effect1, effect2, ...)"},{"path":"http://opensource.nibr.com/dpasurv/reference/sum.effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","text":"effect1 object class \"effect\" obtained call function effect() effect2 second object class \"effect\" obtained call function effect() ... additional objects class \"effect\" (number effects allowed)","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/sum.effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","text":"object class \"effect\" containing sum effect1, effect2, ...","code":""},{"path":"http://opensource.nibr.com/dpasurv/reference/sum.effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sum of direct and indirect effects from dynamic path analysis — sum.effect","text":"","code":"library(dpasurv)  data(simdata)  s <- dpa(survival::Surv(start,stop,event)~M+x, list(M~x), id=\"subject\", data=simdata, boot.n=100)  direct <- effect(x ~ outcome, s) indirect <- effect(x ~ M ~ outcome, s) total <- sum(direct, indirect)"}]
